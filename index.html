<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>UI-Extension Country Select</title>
  <!-- load Contentful stylesheet to have some base styles -->
  <link rel="stylesheet" href="https://contentful.github.io/ui-extensions-sdk/cf-extension.css">
  <!-- load Contentful extensions SDK -->
  <script src="https://contentful.github.io/ui-extensions-sdk/cf-extension-api.js"></script>

  <!-- Extension -->
  <link data-name="vs/editor/editor.main" rel="stylesheet" href="  https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/editor/editor.main.css">

  <!-- VS Code Editor -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js" integrity="sha256-wS9gmOZBqsqWxgIVgA8Y9WcQOa7PgSIX+rPA0VL2rbQ="
    crossorigin="anonymous"></script>
  <script>var require = { paths: { 'vs': 'vs' } };</script>
  <script src="https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/loader.js"></script>
  <script src="https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/editor/editor.main.nls.js"></script>
  <script src="https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/editor/editor.main.js"></script>
  <style>
    body,html {padding: 0px; margin: 0px;}
  </style>
</head>

<body>
  <!-- your UI extension code -->
  <div id="editor" style="height:400px; width: 100%"></div>

  <script type="text/javascript">

    var editor = null;

    /**
     * Init the contentful extension
     */
    window.contentfulExtension.init(extension => {
      var value = extension.field.getValue();

      var elementDom = document.getElementById('editor');
      elementDom.style.width = window.innerWidth;

      editor = monaco.editor.create(elementDom, {
        model: monaco.editor.createModel(value, 'text/html'),
        autoIndent: true,
        formatOnPaste: true,
        formatOnType: true,
        theme: 'vs-light'
      });
      editor.layout();

      /**
       * On blur editor
       */
      editor.onDidBlurEditor(function () {
        extension.field.setValue(editor.getValue());
      });

      extension.window.updateHeight(400);

    });
  </script>

</body>

</html>